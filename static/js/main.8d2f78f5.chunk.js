(this["webpackJsonpchore-web-app"]=this["webpackJsonpchore-web-app"]||[]).push([[0],{190:function(e,t,n){},219:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(20),c=n.n(s),o=(n(190),n(12)),i=n.n(o),u=n(42),l=n(15),p=n(13),j=n(7),b=n(22),d=n(23),m=n(254),h=n(255),x=n(257),O=n(88),f=n(256),g=n(291),v=n(258),y=n(262),k=n(222),S=n(259),w=n(260),I=n(261),D=n(263),C=n(264),N=n(141),T=n.n(N),E=n(140),A=n.n(E),L=n(139),G=n.n(L),M=n(142),W=n.n(M),B=n(143),P=n.n(B),R=n(103),F=n.n(R),U=n(251);function q(){var e=Object(r.useState)(null),t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){a(window.innerWidth)}),[]),Object(r.useEffect)((function(){function e(){a(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n<=600}var z=n(2),H=Object(U.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},title:{margin:e.spacing(1,0,1),textTransform:"none",textAlign:"left",color:"#333"},logoButton:{padding:e.spacing(0),textAlign:"left"},navButton:{color:"#333",width:"100%","&:hover":{backgroundColor:"#ddd"}},navButtonSelected:{color:"#333",width:"100%",backgroundColor:e.palette.secondary.light,"&:hover":{backgroundColor:e.palette.secondary.main}},drawerDiv:{height:"100vh",overflow:"auto",display:"flex",flexDirection:"column"},drawerPaperMobile:{width:"80%"},drawerPaper:{width:"20rem"},paperAnchorLeftMobile:{width:"80%"},paperAnchorLeft:{width:"20rem"}}})),K=[["Home","/",Object(z.jsx)(G.a,{})],["Create group","/createGroup",Object(z.jsx)(A.a,{})],["Join group","/joinGroup",Object(z.jsx)(T.a,{})]];function Y(e){var t=H(),n=e.handleLoadGroups,s=e.groupsStatus,c=e.groups,o=e.groupsError;Object(r.useEffect)((function(){n()}),[]);var i=Object(b.h)(),u=Object(r.useState)(""),l=Object(p.a)(u,2),j=l[0],N=l[1],T=Object(r.useState)(""),E=Object(p.a)(T,2),A=E[0],L=E[1];Object(r.useEffect)((function(){N(""),L(""),c.forEach((function(e){i.pathname.startsWith("/groups/".concat(e.groupID.S))&&(N(e.groupName.S),L(e.groupID.S))}))}),[c,i]);var G=q();Object(r.useEffect)((function(){window.onscroll=function(){0===(document.body.scrollTop||document.documentElement.scrollTop)?U(0):U(4)}}));var M=Object(r.useState)(0),B=Object(p.a)(M,2),R=B[0],U=B[1];var Y=Object(r.useState)(!1),_=Object(p.a)(Y,2),V=_[0],J=_[1];return Object(z.jsxs)(a.a.Fragment,{children:[Object(z.jsx)(m.a,{position:"fixed",elevation:R,className:G||t.appBar,children:Object(z.jsxs)(h.a,{children:[G&&Object(z.jsx)("div",{children:Object(z.jsx)(f.a,{className:t.navButton,onClick:function(){return J(!0)},children:Object(z.jsx)(W.a,{})})}),Object(z.jsx)("div",{children:Object(z.jsx)(x.a,{component:d.b,to:"/",className:t.logoButton,children:Object(z.jsx)(O.a,{variant:"h6",className:t.title,children:"Chores"})})}),Object(z.jsx)("div",{style:{flexGrow:1}}),Object(z.jsx)("div",{children:Object(z.jsx)(O.a,{variant:"h5",children:j})}),Object(z.jsx)("div",{style:{flexGrow:1}})]})}),Object(z.jsxs)(g.a,{variant:G?"temporary":"permanent",anchor:"left",open:V,classes:{paperAnchorLeft:G?t.paperAnchorLeftMobile:t.paperAnchorLeft,paper:G?t.drawerPaperMobile:t.drawerPaper},style:{width:G?"80%":"20rem",flexShrink:0},onClose:function(){return J(!1)},children:[G||Object(z.jsx)(h.a,{}),Object(z.jsxs)("div",{className:t.drawerDiv,children:[Object(z.jsx)(v.a,{children:K.map((function(n,r){return Object(z.jsxs)(k.a,{button:!0,component:d.b,to:n[1],onClick:function(){return J(!1)},className:e.selected===n[1]?t.navButtonSelected:t.navButton,children:[Object(z.jsx)(S.a,{children:n[2]}),Object(z.jsx)(w.a,{primary:n[0]})]},"navlink-".concat(r))}))}),Object(z.jsx)(I.a,{}),Object(z.jsxs)(v.a,{style:{overflow:"auto"},subheader:Object(z.jsx)(y.a,{disableSticky:!0,children:Object(z.jsx)(O.a,{variant:"h6",style:{marginTop:"1rem",marginBottom:".5rem"},children:"Your groups"})}),children:[1===s&&Object(z.jsx)(D.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",children:Object(z.jsx)(D.a,{item:!0,xs:3,children:Object(z.jsx)(C.a,{})})}),2===s&&c.map((function(e,n){return Object(z.jsxs)(k.a,{button:!0,component:d.b,onClick:function(){return J(!1)},to:"/groups/".concat(e.groupID.S),className:A===e.groupID.S?t.navButtonSelected:t.navButton,children:[Object(z.jsx)(S.a,{children:Object(z.jsx)(F.a,{})}),Object(z.jsx)(w.a,{primary:e.groupName.S,secondary:e.groupID.S})]},"group-".concat(e.groupID.S))})),3===s&&Object(z.jsxs)(O.a,{variant:"body1",style:{color:"#e57373"},children:["Error: ",o]})]}),Object(z.jsx)("div",{style:{flexGrow:1}}),Object(z.jsx)(I.a,{}),Object(z.jsx)(v.a,{children:Object(z.jsxs)(k.a,{button:!0,component:d.b,to:"/logout",onClick:function(){return J(!1)},className:t.navButton,children:[Object(z.jsx)(S.a,{children:Object(z.jsx)(P.a,{})}),Object(z.jsx)(w.a,{primary:"Logout"})]})})]})]})]})}var _=n(19),V=n(265),J=n(266),X=n(267),Z=n(287),Q=n(284),$=n(288);function ee(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}var te="refreshToken",ne={idToken:null,accessToken:null,exp:-1},re=ne;function ae(e,t){re={idToken:e,accessToken:t,exp:Math.min(ee(e).exp,ee(t).exp)}}function se(){return Math.ceil(Date.now()/1e3)+180>=re.exp&&(re=ne),re}function ce(e){localStorage.setItem(te,e)}function oe(){return localStorage.getItem(te)}function ie(){localStorage.removeItem(te),localStorage.removeItem("identityID"),re=ne}var ue,le="us-east-2:f1368add-2f4b-47fc-8b3c-8b65a1c909cb",pe="us-east-2",je="cognito-idp.us-east-2.amazonaws.com/us-east-2_ZiUGD7hem",be="deg51c9v98amenr0il094snqc",de=new Z.a({region:pe});function me(e,t){return he.apply(this,arguments)}function he(){return(he=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.send(new V.a({AuthFlow:"USER_PASSWORD_AUTH",ClientId:be,AuthParameters:{USERNAME:t,PASSWORD:n}}));case 3:return r=e.sent,ue=new Z.a({region:pe,credentials:Object(Q.a)({client:new $.a({region:pe}),identityPoolId:le,logins:Object(_.a)({},je,r.AuthenticationResult.IdToken)})}),ae(r.AuthenticationResult.IdToken,r.AuthenticationResult.AccessToken),ce(r.AuthenticationResult.RefreshToken),e.abrupt("return",{success:!0,message:"success",response:r});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function xe(e,t,n){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(l.a)(i.a.mark((function e(t,n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.send(new J.a({ClientId:be,Username:t,Password:n,UserAttributes:[{Name:"name",Value:r}],ClientMetadata:{secretKey:"H6xXPbB8YpGSMaq2rPoIt2LGbF8HYUGj"}}));case 3:return a=e.sent,e.abrupt("return",{success:!0,message:"success",response:a});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function fe(){return ge.apply(this,arguments)}function ge(){return(ge=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue){e.next=17;break}return e.t0=Z.a,e.t1=pe,e.t2=Q.a,e.t3=new $.a({region:pe}),e.t4=le,e.t5=_.a,e.t6={},e.t7=je,e.next=11,ve();case 11:e.t8=e.sent.idToken,e.t9=(0,e.t5)(e.t6,e.t7,e.t8),e.t10={client:e.t3,identityPoolId:e.t4,logins:e.t9},e.t11=(0,e.t2)(e.t10),e.t12={region:e.t1,credentials:e.t11},ue=new e.t0(e.t12);case 17:if(t=oe()){e.next=20;break}return e.abrupt("return",{success:!0,message:"no tokens to revoke"});case 20:return ie(),e.prev=21,e.next=24,ue.send(new X.a({ClientId:be,Token:t}));case 24:return n=e.sent,ue=null,e.abrupt("return",{success:!0,message:"logged out succesfully",response:n});case 29:return e.prev=29,e.t13=e.catch(21),e.abrupt("return",{success:!1,message:e.t13.message});case 32:case"end":return e.stop()}}),e,null,[[21,29]])})))).apply(this,arguments)}function ve(){return ye.apply(this,arguments)}function ye(){return(ye=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=se()).idToken||!t.accessToken){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,ke();case 5:if(!e.sent.success){e.next=8;break}return e.abrupt("return",se());case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return Se.apply(this,arguments)}function Se(){return(Se=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=oe()){e.next=3;break}return e.abrupt("return",{success:!1,message:"no refresh token found."});case 3:return e.prev=3,e.next=6,de.send(new V.a({AuthFlow:"REFRESH_TOKEN_AUTH",ClientId:be,AuthParameters:{REFRESH_TOKEN:t}}));case 6:return ae((n=e.sent).AuthenticationResult.IdToken,n.AuthenticationResult.AccessToken),e.abrupt("return",{success:!0,message:"success"});case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",{success:!1,message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}var we,Ie=n(147),De=n(148),Ce=n(150),Ne=n(149),Te=n(282);function Ee(){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",{success:!1,message:"no valid tokens"});case 5:return we=new Te.a({region:pe,credentials:Object(Q.a)({client:new $.a({region:pe}),identityPoolId:le,logins:Object(_.a)({},je,t.idToken)})}),e.abrupt("return",{success:!0,dynamoClient:we,tokens:t});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){for(var e="",t=0;t<6;t++){var n=Math.floor(36*Math.random()),r="";r=n<10?n.toString():String.fromCharCode(n-10+65),e=e.concat(r)}return e}function Ge(){return Me.apply(this,arguments)}function Me(){return(Me=Object(l.a)(i.a.mark((function e(){var t,n,r,a,s,c,o,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:null){e.next=8;break}return e.next=4,Ee();case 4:if((n=e.sent).success){e.next=7;break}return e.abrupt("return",{success:!1,message:n.message});case 7:t=n.dynamoClient;case 8:r=!1,a="",s=Date.now();case 11:if(r){e.next=31;break}if(!(Date.now()-s>5e3)){e.next=14;break}return e.abrupt("return",{success:!1,message:"timed out before valid id was found"});case 14:return a=Le(),console.log("trying id:",a),e.prev=16,c={TableName:"chore-web-app-groups",Key:{groupID:{S:a}}},e.next=20,t.send(new Ie.a(c));case 20:o=e.sent,console.log(o),r=!o.Item,e.next=29;break;case 25:return e.prev=25,e.t0=e.catch(16),console.log(e.t0),e.abrupt("return",{success:!1,message:e.t0.message});case 29:e.next=11;break;case 31:return console.log("found valid id:",a),e.abrupt("return",{success:!0,groupCode:a});case 33:case"end":return e.stop()}}),e,null,[[16,25]])})))).apply(this,arguments)}function We(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(l.a)(i.a.mark((function e(t){var n,r,a,s,c,o,u,l,p,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee();case 2:if((n=e.sent).success){e.next=5;break}return e.abrupt("return",{success:!1,message:n.message});case 5:return r=n.dynamoClient,e.next=8,Ge(r);case 8:if((a=e.sent).success){e.next=11;break}return e.abrupt("return",{success:!1,message:a.message});case 11:return s=ee(n.tokens.idToken),c=s.name,o=s["cognito:username"],e.prev=14,u={TableName:"chore-web-app-groups",Item:{groupID:{S:a.groupCode},groupName:{S:t},numUsers:{N:"1"},ownerID:{S:o},users:{SS:[o]}}},e.next=18,r.send(new De.a(u));case 18:return l=e.sent,p={TableName:"chore-web-app-usergroups",Item:{userID:{S:o},groupID:{S:a.groupCode},userName:{S:c},groupName:{S:t},role:{S:"owner"}}},e.next=22,r.send(new De.a(p));case 22:return j=e.sent,e.abrupt("return",{success:!0,response:l,response2:j});case 26:return e.prev=26,e.t0=e.catch(14),console.log(e.t0),e.abrupt("return",{success:!1,message:e.t0.message});case 30:case"end":return e.stop()}}),e,null,[[14,26]])})))).apply(this,arguments)}function Pe(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(l.a)(i.a.mark((function e(t){var n,r,a,s,c,o,u,l,p,j,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee();case 2:if((n=e.sent).success){e.next=5;break}return e.abrupt("return",{success:!1,message:n.message});case 5:return r=n.dynamoClient,a=ee(n.tokens.idToken),s=a["cognito:username"],c=a.name,e.prev=9,o={TableName:"chore-web-app-groups",Key:{groupID:{S:t}}},e.next=13,r.send(new Ie.a(o));case 13:if((u=e.sent).Item){e.next=16;break}return e.abrupt("return",{success:!1,message:"Invalid group code"});case 16:return l={TableName:"chore-web-app-groups",Key:{groupID:{S:t}},ConditionExpression:"attribute_exists(#u) AND NOT contains(#u, :userID)",UpdateExpression:"ADD #u :userIDSet, numUsers :one",ExpressionAttributeNames:{"#u":"users"},ExpressionAttributeValues:{":userID":{S:s},":userIDSet":{SS:[s]},":one":{N:"1"}}},e.next=19,r.send(new Ce.a(l));case 19:return p=e.sent,j={TableName:"chore-web-app-usergroups",Item:{userID:{S:s},groupID:{S:t},userName:{S:c},groupName:{S:u.Item.groupName.S},role:{S:"regular"}}},e.next=23,r.send(new De.a(j));case 23:return b=e.sent,e.abrupt("return",{success:!0,response:u,response2:p,response3:b});case 27:return e.prev=27,e.t0=e.catch(9),"The conditional request failed"===e.t0.message&&(e.t0.message="You are already in this group"),e.abrupt("return",{success:!1,message:e.t0.message});case 31:case"end":return e.stop()}}),e,null,[[9,27]])})))).apply(this,arguments)}function Fe(){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(l.a)(i.a.mark((function e(){var t,n,r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee();case 2:if((t=e.sent).success){e.next=5;break}return e.abrupt("return",{success:!1,message:t.message});case 5:return n=t.dynamoClient,r=ee(t.tokens.idToken)["cognito:username"],e.prev=7,a={TableName:"chore-web-app-usergroups",KeyConditionExpression:"userID = :user",ExpressionAttributeValues:{":user":{S:r}}},e.next=11,n.send(new Ne.a(a));case 11:return s=e.sent,e.abrupt("return",{success:!0,response:s});case 15:return e.prev=15,e.t0=e.catch(7),e.abrupt("return",{success:!1,message:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[7,15]])})))).apply(this,arguments)}function qe(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(l.a)(i.a.mark((function e(t){var n,r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{success:!1,message:"group id requried"});case 2:return e.next=4,Ee();case 4:if((n=e.sent).success){e.next=7;break}return e.abrupt("return",{success:!1,message:n.message});case 7:return r=n.dynamoClient,e.prev=8,a={TableName:"chore-web-app-usergroups",IndexName:"groupID-userID-index",KeyConditionExpression:"groupID = :group",ExpressionAttributeValues:{":group":{S:t}}},e.next=12,r.send(new Ne.a(a));case 12:return s=e.sent,e.abrupt("return",{success:!0,response:s});case 16:return e.prev=16,e.t0=e.catch(8),e.abrupt("return",{success:!1,message:e.t0.message});case 19:case"end":return e.stop()}}),e,null,[[8,16]])})))).apply(this,arguments)}var He=["component","selected"];function Ke(e){var t=e.component,n=e.selected,a=Object(j.a)(e,He),s=Object(r.useState)(0),c=Object(p.a)(s,2),o=c[0],d=c[1];0===o&&ve().then((function(e){d(e?1:-1)})).catch((function(e){console.log(e),d(-1)}));var m=Object(r.useState)([]),x=Object(p.a)(m,2),O=x[0],f=x[1],g=Object(r.useState)(0),v=Object(p.a)(g,2),y=v[0],k=v[1],S=Object(r.useState)(""),w=Object(p.a)(S,2),I=w[0],N=w[1];function T(){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(1),e.next=3,Fe();case 3:(t=e.sent).success?(f(t.response.Items),k(2)):(k(3),N(t.message));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(z.jsx)(b.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return 0===o?Object(z.jsx)(D.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:Object(z.jsx)(D.a,{item:!0,xs:3,children:Object(z.jsx)(C.a,{})})}):1===o?Object(z.jsxs)("div",{style:{display:"flex"},children:[Object(z.jsx)(Y,{selected:n,groups:O,groupsStatus:y,groupsError:I,handleLoadGroups:T}),Object(z.jsxs)("main",{style:{flexGrow:1,padding:"2rem"},children:[Object(z.jsx)(h.a,{}),Object(z.jsx)(t,Object(u.a)(Object(u.a)({},e),{},{handleLoadGroups:T,groups:O,groupsStatus:y}))]})]}):Object(z.jsx)(b.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var Ye=["component"];function _e(e){var t=e.component,n=Object(j.a)(e,Ye),a=Object(r.useState)(0),s=Object(p.a)(a,2),c=s[0],o=s[1];return 0===c&&ve().then((function(e){o(e?1:-1)})).catch((function(e){console.log(e),o(-1)})),Object(z.jsx)(b.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return 0===c?Object(z.jsx)(D.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:Object(z.jsx)(D.a,{item:!0,xs:3,children:Object(z.jsx)(C.a,{})})}):-1===c?Object(z.jsx)("div",{children:Object(z.jsx)("main",{children:Object(z.jsx)(t,Object(u.a)({},e))})}):Object(z.jsx)(b.a,{to:{pathname:"/",state:{from:e.location}}})}}))}var Ve=n(87),Je=n.n(Ve),Xe=n(118);function Ze(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(l.a)(i.a.mark((function e(t){var n,r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee();case 2:if((n=e.sent).success){e.next=5;break}return e.abrupt("return",{success:!1,message:n.message});case 5:return r=n.dynamoClient,t||(t=ee(n.tokens.idToken)["cognito:username"]),e.prev=7,a={TableName:"chore-web-app-tasks",KeyConditionExpression:"userID = :user",ExpressionAttributeValues:{":user":{S:t}}},e.next=11,r.send(new Ne.a(a));case 11:return s=e.sent,e.abrupt("return",{success:!0,response:s});case 15:return e.prev=15,e.t0=e.catch(7),e.abrupt("return",{success:!1,message:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[7,15]])})))).apply(this,arguments)}function $e(e,t){return et.apply(this,arguments)}function et(){return(et=Object(l.a)(i.a.mark((function e(t,n){var r,a,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee();case 2:if((r=e.sent).success){e.next=5;break}return e.abrupt("return",{success:!1,message:r.message});case 5:return a=r.dynamoClient,n||(n=ee(r.tokens.idToken)["cognito:username"]),e.prev=7,s={TableName:"chore-web-app-tasks",KeyConditionExpression:"userID = :user AND begins_with(#g, :group)",ExpressionAttributeValues:{":user":{S:n},":group":{S:t}},ExpressionAttributeNames:{"#g":"groupID#taskID"}},e.next=11,a.send(new Ne.a(s));case 11:return c=e.sent,e.abrupt("return",{success:!0,response:c});case 15:return e.prev=15,e.t0=e.catch(7),e.abrupt("return",{success:!1,message:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[7,15]])})))).apply(this,arguments)}function tt(e,t,n,r,a){return nt.apply(this,arguments)}function nt(){return(nt=Object(l.a)(i.a.mark((function e(t,n,r,a,s){var c,o,u,l,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n&&r&&s&&0!==s.length){e.next=2;break}return e.abrupt("return",{success:!1,message:"missing required parameters"});case 2:return a||(a=""),e.next=5,Ee();case 5:if((c=e.sent).success){e.next=8;break}return e.abrupt("return",{success:!1,message:c.message});case 8:return o=c.dynamoClient,u=Object(Xe.a)(),e.prev=10,l={TableName:"chore-web-app-tasks",Item:{groupID:{S:t},userID:{S:n},taskName:{S:r},taskDescription:{S:a},taskDays:{SS:s},"groupID#taskID":{S:"".concat(t,"#").concat(u)},taskID:{S:u}}},e.next=14,o.send(new De.a(l));case 14:return p=e.sent,e.abrupt("return",{success:!0,response:p});case 18:return e.prev=18,e.t0=e.catch(10),e.abrupt("return",{success:!1,message:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[10,18]])})))).apply(this,arguments)}var rt=Object(U.a)((function(e){return{day:{margin:2,color:"#bbb"},dayIncluded:{margin:2,color:"#000"}}}));function at(){var e=rt(),t=Object(r.useState)(null),n=Object(p.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(0),o=Object(p.a)(c,2),u=o[0],j=o[1],b=Object(r.useState)(""),m=Object(p.a)(b,2),h=m[0],x=m[1],g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function y(){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(1),e.next=3,Ze();case 3:t=e.sent,console.log(t),t.success?(s(t.response.Items),j(2)):(j(3),x(t.message));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){return y()}),[]),Object(z.jsxs)("div",{children:[Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(z.jsx)(f.a,{disabled:u<2,onClick:y,children:Object(z.jsx)(Je.a,{})}),Object(z.jsx)(O.a,{variant:"h6",children:2===u&&a&&"".concat(a.length," tasks in group")})]}),1===u?Object(z.jsx)(C.a,{}):2===u&&a?Object(z.jsxs)(v.a,{style:{marginBottom:30},children:[0===a.length&&"You do not have any tasks at this time.",a.map((function(t,n){return Object(z.jsx)(k.a,{button:!0,component:d.b,to:"/groups/".concat(t.groupID.S,"/tasks/").concat(t.taskID.S),children:Object(z.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[Object(z.jsx)(w.a,{primary:t.taskName.S,secondary:"".concat(t.taskDescription.S.length>47?"".concat(t.taskDescription.S.substring(0,47),"..."):t.taskDescription.S)}),Object(z.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",flexGrow:1,marginLeft:10},children:g.map((function(n){var r=t.taskDays.SS.includes(n);return Object(z.jsx)("div",{className:r?e.dayIncluded:e.day,children:n[0]})}))})]})},"user-task-".concat(n,"-").concat(t.taskID.S))}))]}):Object(z.jsx)("div",{children:Object(z.jsx)("p",{children:h})})]})}function st(){return Object(z.jsx)("div",{children:Object(z.jsx)("h1",{children:"about"})})}var ct=n(106),ot=n(269),it=n(283),ut=n(289),lt=n(270),pt=n(290),jt=n(268),bt=n(274),dt=n(275),mt=n(77),ht=n.n(mt),xt=n(105),Ot=n.n(xt),ft=n(104),gt=n.n(ft);function vt(e){return Object(z.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(z.jsx)(jt.a,{color:"inherit",href:e.link||"https://madmobileapps.com",children:e.name||"MAD Mobile Apps"})," ",(new Date).getFullYear(),"."]})}var yt=Object(U.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},title:{margin:e.spacing(0,0,2)},buttonProgress:{color:ct.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-8,marginLeft:-12}}}));function kt(e){var t=Object(b.g)(),n=yt(),a=Object(r.useState)(""),s=Object(p.a)(a,2),c=s[0],o=s[1],u=Object(r.useState)(""),j=Object(p.a)(u,2),m=j[0],h=j[1],g=Object(r.useState)(0),v=Object(p.a)(g,2),y=v[0],k=v[1],S=Object(r.useState)(""),w=Object(p.a)(S,2),I=w[0],N=w[1];function T(){return(T=Object(l.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),k(1),e.next=4,me(c,m);case 4:r=e.sent,console.log(r),r.success?(k(2),t.push("/")):(k(3),N(r.message),setTimeout((function(){return k(0)}),5e3));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(z.jsxs)(ot.a,{component:"main",maxWidth:"xs",children:[Object(z.jsx)(lt.a,{}),Object(z.jsxs)("div",{className:n.paper,children:[Object(z.jsx)(O.a,{component:"h1",variant:"h4",className:n.title,children:"Chore App"}),Object(z.jsx)(ut.a,{className:n.avatar,children:Object(z.jsx)(gt.a,{})}),Object(z.jsx)(O.a,{component:"h1",variant:"h5",children:"Log In"}),Object(z.jsxs)("form",{className:n.form,onSubmit:function(e){return T.apply(this,arguments)},children:[Object(z.jsx)(pt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",type:"username",name:"username",autoComplete:"username",value:c,onInput:function(e){o(e.target.value)},autoFocus:!0}),Object(z.jsx)(pt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:m,onInput:function(e){h(e.target.value)}}),Object(z.jsx)(bt.a,{in:I,children:Object(z.jsx)(dt.a,{style:{backgroundColor:"#e57373"},children:Object(z.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:7},children:[Object(z.jsx)(Ot.a,{}),Object(z.jsx)("div",{style:{marginLeft:10,marginRight:10},children:I}),Object(z.jsx)("div",{style:{flexGrow:1}}),Object(z.jsx)(f.a,{onClick:function(){return N("")},"aria-label":"close",size:"small",children:Object(z.jsx)(ht.a,{fontSize:"inherit"})})]})})}),Object(z.jsx)("div",{className:n.wrapper,children:Object(z.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:1===y||2===y,children:1===y?Object(z.jsx)(C.a,{size:24}):"Login"})}),Object(z.jsx)(D.a,{container:!0,justify:"flex-end",children:Object(z.jsx)(D.a,{item:!0,children:Object(z.jsx)(jt.a,{component:d.b,to:"/register",variant:"body2",children:"Don't have an account? Register"})})})]})]}),Object(z.jsx)(it.a,{mt:8,children:Object(z.jsx)(vt,{name:"MAD Mobile Apps",link:"https://madmobileapps.com"})})]})}function St(){var e=Object(b.g)(),t=Object(r.useState)(0),n=Object(p.a)(t,2),a=n[0],s=n[1];function c(){return o.apply(this,arguments)}function o(){return(o=Object(l.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(1),t.next=3,fe();case 3:n=t.sent,console.log(n),n.success?e.push("/login"):(s(3),console.log("error logging out"));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){c()}),[]),Object(z.jsx)(D.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:Object(z.jsxs)(D.a,{item:!0,xs:3,children:[0===a&&Object(z.jsx)(x.a,{onClick:c,children:"Logout"}),1===a&&Object(z.jsx)(C.a,{}),2===a&&"Logout successful.",3===a&&Object(z.jsxs)("div",{children:["Logout failed.",Object(z.jsx)("br",{}),Object(z.jsx)(x.a,{onClick:c,children:"Try again"})]})]})})}var wt=n(153),It=n.n(wt),Dt=n(154),Ct=n.n(Dt),Nt=Object(U.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},title:{margin:e.spacing(0,0,2)}}}));function Tt(e){var t=Nt(),n=(Object(b.g)(),Object(r.useState)("")),a=Object(p.a)(n,2),s=a[0],c=a[1],o=Object(r.useState)(""),u=Object(p.a)(o,2),j=u[0],m=u[1],h=Object(r.useState)(""),g=Object(p.a)(h,2),v=g[0],y=g[1],k=Object(r.useState)(0),S=Object(p.a)(k,2),w=S[0],I=S[1],N=Object(r.useState)(""),T=Object(p.a)(N,2),E=T[0],A=T[1];function L(){return(L=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),I(1),e.next=4,xe(s,v,j);case 4:(n=e.sent).success?(I(2),A("Registered successfully!")):(I(3),A(n.message));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(z.jsxs)(ot.a,{component:"main",maxWidth:"xs",children:[Object(z.jsx)(lt.a,{}),Object(z.jsxs)("div",{className:t.paper,children:[Object(z.jsx)(O.a,{component:"h1",variant:"h4",className:t.title,children:"Chore App"}),Object(z.jsx)(ut.a,{className:t.avatar,children:Object(z.jsx)(gt.a,{})}),Object(z.jsx)(O.a,{component:"h1",variant:"h5",children:"Register"}),Object(z.jsx)("div",{style:{height:10}}),Object(z.jsxs)("form",{className:t.form,onSubmit:function(e){return L.apply(this,arguments)},children:[Object(z.jsx)(pt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",type:"username",name:"username",autoComplete:"username",value:s,onInput:function(e){c(e.target.value)},autoFocus:!0,disabled:1===w||2===w}),Object(z.jsx)(pt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",type:"name",name:"name",autoComplete:"name",value:j,onInput:function(e){m(e.target.value)},disabled:1===w||2===w}),Object(z.jsx)(pt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:v,onInput:function(e){y(e.target.value)},disabled:1===w||2===w}),Object(z.jsx)(bt.a,{in:E,children:Object(z.jsx)(dt.a,{style:{backgroundColor:["","","#81c784","#e57373"][w]},children:Object(z.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:7},children:[[null,Object(z.jsx)(It.a,{}),Object(z.jsx)(Ct.a,{}),Object(z.jsx)(Ot.a,{})][w],Object(z.jsx)("div",{style:{marginLeft:10,marginRight:10},children:E}),Object(z.jsx)("div",{style:{flexGrow:1}}),Object(z.jsx)(f.a,{onClick:function(){return A("")},"aria-label":"close",size:"small",children:Object(z.jsx)(ht.a,{fontSize:"inherit"})})]})})}),Object(z.jsxs)("div",{className:t.wrapper,children:[Object(z.jsx)(bt.a,{in:2===w,children:Object(z.jsx)(x.a,{fullWidth:!0,variant:"outlined",style:{backgroundColor:"#81c784",marginBottom:5},component:d.b,to:"/login",children:"Go to Log in"})}),Object(z.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:1===w||2===w,children:1===w?Object(z.jsx)(C.a,{size:24}):"Register"})]}),Object(z.jsx)(D.a,{container:!0,justify:"flex-end",children:Object(z.jsx)(D.a,{item:!0,children:Object(z.jsx)(jt.a,{component:d.b,to:"/login",variant:"body2",children:"Already have an account? Log in"})})})]})]}),Object(z.jsx)(it.a,{mt:8,children:Object(z.jsx)(vt,{name:"MAD Mobile Apps",link:"https://madmobileapps.com"})})]})}function Et(e){var t=Object(r.useState)(""),n=Object(p.a)(t,2),a=n[0],s=n[1];function c(){return(c=Object(l.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,We(a);case 3:t.sent,e.handleLoadGroups();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(z.jsx)("div",{children:Object(z.jsxs)("form",{onSubmit:function(e){return c.apply(this,arguments)},children:[Object(z.jsx)(pt.a,{variant:"outlined",margin:"normal",required:!0,id:"groupName",label:"Group name",type:"groupName",name:"groupName",autoComplete:"groupName",value:a,onInput:function(e){s(e.target.value)},autoFocus:!0}),Object(z.jsx)("br",{}),Object(z.jsx)(x.a,{variant:"contained",disableElevation:!0,color:"secondary",type:"submit",children:"Create group"})]})})}function At(e){var t=Object(r.useState)(""),n=Object(p.a)(t,2),a=n[0],s=n[1];function c(){return(c=Object(l.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,Pe(a);case 3:r=t.sent,console.log(r),e.handleLoadGroups();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(z.jsx)("div",{children:Object(z.jsxs)("form",{onSubmit:function(e){return c.apply(this,arguments)},children:[Object(z.jsx)(pt.a,{variant:"outlined",margin:"normal",required:!0,id:"groupCode",label:"Group code",type:"groupCode",name:"groupCode",autoComplete:"groupCode",value:a,onInput:function(e){s(e.target.value.toUpperCase())},autoFocus:!0}),Object(z.jsx)("br",{}),Object(z.jsx)(x.a,{variant:"contained",disableElevation:!0,color:"secondary",type:"submit",children:"Join group"})]})})}var Lt=n(278),Gt=n(279),Mt=n(280),Wt=n(116),Bt=n.n(Wt),Pt=n(155),Rt=n.n(Pt),Ft=n(156),Ut=n.n(Ft),qt=n(271),zt=n(292),Ht=n(277),Kt=n(273),Yt=n(285),_t=n(293),Vt=n(286),Jt=n(276),Xt=Object(U.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,backgroundColor:"rgb(0,0,0,.7)"},closeButton:{backgroundColor:e.palette.secondary.main,color:"#111",width:36,height:36,"&:hover":{backgroundColor:"#f55",color:"#fff"}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},formControl:{minWidth:"10rem",marginTop:5,marginBottom:10}}}));function Zt(e){var t=e.group,n=e.groupUsers,a=Xt(),s=Object(b.j)(),c=s.path,o=(s.url,Object(r.useState)(!1)),u=Object(p.a)(o,2),j=u[0],d=u[1],m=Object(r.useState)(""),h=Object(p.a)(m,2),g=h[0],y=h[1],k=Object(r.useState)(""),S=Object(p.a)(k,2),I=S[0],D=S[1],N=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],T=Object(r.useState)([]),E=Object(p.a)(T,2),A=E[0],L=E[1],G=Object(r.useState)(""),M=Object(p.a)(G,2),W=M[0],B=M[1];function P(){d(!1)}var R=Object(r.useState)(0),F=Object(p.a)(R,2),U=F[0],q=F[1],H=Object(r.useState)(""),K=Object(p.a)(H,2),Y=(K[0],K[1]);function _(){return(_=Object(l.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),q(1),e.next=4,tt(t.groupID.S,W,g,I,A);case 4:r=e.sent,console.log(r),r.success?(q(2),Y("Task created successfully!")):(q(3),Y(r.message));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t&&"owner"===t.role.S?Object(z.jsxs)(b.d,{children:[Object(z.jsxs)(b.b,{exact:!0,path:c,children:[Object(z.jsx)("h3",{children:"select a task"}),Object(z.jsx)("button",{onClick:function(){return d(!0)},children:"create task"}),Object(z.jsx)(v.a,{}),Object(z.jsx)(Jt.a,{className:a.backdrop,open:j,style:{overflow:"auto"},maxWidth:"md",fullWidth:!0,onClose:P,children:Object(z.jsxs)("div",{style:{backgroundColor:"#eee",padding:40},children:[Object(z.jsx)("div",{style:{position:"relative",float:"right",top:-20,right:-20},onClick:P,children:Object(z.jsx)(f.a,{className:a.closeButton,children:Object(z.jsx)(ht.a,{})})}),Object(z.jsx)(O.a,{variant:"h5",children:"Create task"}),Object(z.jsxs)("form",{onSubmit:function(e){return _.apply(this,arguments)},children:[Object(z.jsx)(pt.a,{variant:"outlined",margin:"normal",required:!0,id:"taskName",label:"Task name",type:"text",name:"taskName",value:g,onInput:function(e){y(e.target.value)},disabled:1===U}),Object(z.jsx)("br",{}),Object(z.jsx)(pt.a,{multiline:!0,variant:"outlined",margin:"normal",required:!0,id:"taskDescription",label:"Task description",type:"text",name:"taskDescription",value:I,onInput:function(e){D(e.target.value)},style:{width:"90%",maxWidth:500},disabled:1===U}),Object(z.jsx)("br",{}),Object(z.jsxs)(Kt.a,{required:!0,className:a.formControl,disabled:1===U,children:[Object(z.jsx)(zt.a,{id:"demo-mutiple-chip-label",children:"Days due"}),Object(z.jsx)(Yt.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:A,onChange:function(e){L(e.target.value)},input:Object(z.jsx)(qt.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(z.jsx)("div",{className:a.chips,children:N.map((function(t){return e.includes(t)&&Object(z.jsx)(_t.a,{label:t,className:a.chip},t)}))})},MenuProps:{onExited:function(){document.activeElement.blur()}},children:N.map((function(e){return Object(z.jsxs)(Ht.a,{value:e,children:[Object(z.jsx)(Vt.a,{checked:A.includes(e)}),Object(z.jsx)(w.a,{primary:e})]},"day-".concat(e))}))})]}),Object(z.jsx)("br",{}),Object(z.jsxs)(Kt.a,{required:!0,className:a.formControl,disabled:1===U,children:[Object(z.jsx)(zt.a,{id:"demo-simple-select-label",children:"Assigned user"}),Object(z.jsx)(Yt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:W,onChange:function(e){return B(e.target.value)},MenuProps:{onExited:function(){document.activeElement.blur()}},children:n&&n.map((function(e){return Object(z.jsx)(Ht.a,{value:e.userID.S,children:e.userName.S},"group-user-".concat(e.userID.S))}))})]}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)(x.a,{style:{width:150},variant:"contained",color:"secondary",type:"submit",disableElevation:!0,disabled:1===U,children:1===U?Object(z.jsx)(C.a,{size:24}):"Create task"})]})]})},"create-task-modal")]}),Object(z.jsx)(b.b,{path:"".concat(c,"/:taskID"),children:Object(z.jsx)(Qt,{group:t})})]}):Object(z.jsx)(b.a,{to:"/groups"})}function Qt(e){var t=e.group,n=Object(b.i)().taskID;return Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:n}),Object(z.jsx)("p",{children:t.groupID.S})]})}function $t(e){return Object(z.jsxs)(b.d,{children:[Object(z.jsx)(b.b,{exact:!0,path:"/groups",children:Object(z.jsx)("h3",{children:"Please select a group from the side menu."})}),Object(z.jsx)(b.b,{path:"/groups/:groupID",children:Object(z.jsx)(nn,Object(u.a)({},e))})]})}var en=[{path:"",label:"My tasks",icon:Object(z.jsx)(Bt.a,{}),adminOnly:!1},{path:"/users",label:"Users",icon:Object(z.jsx)(F.a,{}),adminOnly:!1},{path:"/info",label:"Info",icon:Object(z.jsx)(Rt.a,{}),adminOnly:!1},{path:"/tasks",label:"Manage tasks",icon:Object(z.jsx)(Bt.a,{}),adminOnly:!0}],tn=Object(U.a)((function(e){return{day:{margin:2,color:"#bbb"},dayIncluded:{margin:2,color:"#000"}}}));function nn(e){var t=Object(b.i)().groupID,n=q(),a=Object(b.h)(),s=tn(),c=e.groups,o=e.groupsStatus,u=Object(r.useState)(0),j=Object(p.a)(u,2),m=j[0],h=j[1];Object(r.useEffect)((function(){en.forEach((function(e,n){a.pathname==="/groups/".concat(t).concat(e.path)&&h(n)}))}),[t,a]);var x=Object(r.useState)(null),g=Object(p.a)(x,2),y=g[0],S=g[1],I=Object(r.useState)(0),N=Object(p.a)(I,2),T=N[0],E=N[1],A=Object(r.useState)(""),L=Object(p.a)(A,2),G=L[0],M=L[1];Object(r.useEffect)((function(){if(E(0),1===o)return E(1),void S(null);if(2!==o)return E(3),M("Groups not loaded. Try again later."),void S(null);for(var e=0;e<c.length;e++)if(c[e].groupID.S===t)return E(2),void S(c[e]);E(3),M("You do not have access to this group."),S(null)}),[t,o,c]);var W=Object(r.useState)(null),B=Object(p.a)(W,2),P=B[0],R=B[1],F=Object(r.useState)(0),U=Object(p.a)(F,2),H=U[0],K=U[1],Y=Object(r.useState)(""),_=Object(p.a)(Y,2),V=_[0],J=_[1],X=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Z(){return Q.apply(this,arguments)}function Q(){return(Q=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(1),e.next=3,$e(y.groupID.S);case 3:t=e.sent,console.log(t),t.success?(R(t.response.Items),K(2)):(K(3),J(t.message));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){y&&2===T&&Z()}),[y]);var $=Object(r.useState)(null),ee=Object(p.a)($,2),te=ee[0],ne=ee[1],re=Object(r.useState)(0),ae=Object(p.a)(re,2),se=ae[0],ce=ae[1],oe=Object(r.useState)(""),ie=Object(p.a)(oe,2),ue=ie[0],le=ie[1];function pe(){return je.apply(this,arguments)}function je(){return(je=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(1),e.next=3,qe(y.groupID.S);case 3:t=e.sent,console.log(t),t.success?(ne(t.response.Items),ce(2)):(ce(3),le(t.message));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){y&&2===T&&!te&&pe()}),[y]),1===T?Object(z.jsx)(D.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:Object(z.jsx)(D.a,{item:!0,xs:3,children:Object(z.jsx)(C.a,{})})}):2===T?Object(z.jsxs)("div",{children:[Object(z.jsxs)(b.d,{children:[Object(z.jsxs)(b.b,{exact:!0,path:"/groups/".concat(t),children:[Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(z.jsx)(f.a,{disabled:H<2,onClick:Z,children:Object(z.jsx)(Je.a,{})}),Object(z.jsx)(O.a,{variant:"h6",children:2===H&&P&&"".concat(P.length," tasks in group")})]}),1===H?Object(z.jsx)(C.a,{}):2===H&&P?Object(z.jsxs)(v.a,{style:{marginBottom:30},children:[0===P.length&&"You do not have any tasks at this time.",P.map((function(e,n){return Object(z.jsx)(k.a,{button:!0,component:d.b,to:"/groups/".concat(t,"/tasks/").concat(e.taskID.S),children:Object(z.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[Object(z.jsx)(w.a,{primary:e.taskName.S,secondary:"".concat(e.taskDescription.S.length>47?"".concat(e.taskDescription.S.substring(0,47),"..."):e.taskDescription.S)}),Object(z.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",flexGrow:1,marginLeft:10},children:X.map((function(t){var n=e.taskDays.SS.includes(t);return Object(z.jsx)("div",{className:n?s.dayIncluded:s.day,children:t[0]})}))})]})},"user-task-".concat(n,"-").concat(e.taskID.S))}))]}):Object(z.jsx)("div",{children:Object(z.jsx)("p",{children:V})})]}),Object(z.jsx)(b.b,{exact:!0,path:"/groups/".concat(t,"/info"),children:Object(z.jsxs)("div",{children:[Object(z.jsx)("h3",{children:y.groupName.S}),Object(z.jsxs)("p",{children:["Group code: ",y.groupID.S]}),Object(z.jsxs)("p",{children:["Your role: ",y.role.S]})]})}),Object(z.jsxs)(b.b,{exact:!0,path:"/groups/".concat(t,"/users"),children:[Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(z.jsx)(f.a,{disabled:se<2,onClick:pe,children:Object(z.jsx)(Je.a,{})}),Object(z.jsx)(O.a,{variant:"h6",children:2===se&&te&&"".concat(te.length," users in group")})]}),1===se?Object(z.jsx)(C.a,{}):2===se&&te?Object(z.jsx)(v.a,{children:te.map((function(e,t){return Object(z.jsxs)(k.a,{children:[Object(z.jsx)(w.a,{primary:e.userName.S,secondary:e.userID.S}),Object(z.jsx)(w.a,{secondary:e.role.S}),Object(z.jsx)(Lt.a,{children:Object(z.jsx)(f.a,{children:Object(z.jsx)(Ut.a,{})})})]},"group-user-".concat(t,"-").concat(e.userID.S))}))}):Object(z.jsx)("div",{children:ue})]}),Object(z.jsx)(b.b,{path:"/groups/".concat(t,"/tasks"),children:Object(z.jsx)(Zt,{group:y,groupUsers:te})}),Object(z.jsx)(b.b,{render:function(){return Object(z.jsx)(b.a,{to:"/groups/".concat(t)})}})]}),Object(z.jsx)(Gt.a,{showLabels:!0,value:m,onChange:function(e,t){},style:{width:"100%",position:"fixed",bottom:0,left:n?0:"10rem",right:0,backgroundColor:"#e0e0e0"},children:en.map((function(e,n){return Object(z.jsx)(Mt.a,{label:e.label,icon:e.icon,component:d.b,to:"/groups/".concat(t).concat(e.path),style:{textDecoration:"none"}},"bottom-nav-".concat(n))}))})]}):Object(z.jsx)("div",{children:Object(z.jsx)("h3",{children:G})})}var rn=n(157),an=n(281);var sn=function(){var e=Object(rn.a)({palette:{primary:{main:"#ffa726"},secondary:{main:"#ce93d8"}}});return Object(z.jsx)(an.a,{theme:e,children:Object(z.jsx)(d.a,{basename:"/",children:Object(z.jsxs)(b.d,{children:[Object(z.jsx)(Ke,{path:"/",exact:!0,component:at,selected:"/"}),Object(z.jsx)(Ke,{path:"/about",exact:!0,component:st,selected:"/about"}),Object(z.jsx)(Ke,{path:"/logout",exact:!0,component:St}),Object(z.jsx)(Ke,{path:"/createGroup",exact:!0,component:Et,selected:"/createGroup"}),Object(z.jsx)(Ke,{path:"/joinGroup",exact:!0,component:At,selected:"/joinGroup"}),Object(z.jsx)(Ke,{path:"/groups",component:$t,selected:"/groups"}),Object(z.jsx)(_e,{path:"/login",exact:!0,component:kt}),Object(z.jsx)(_e,{path:"/register",exact:!0,component:Tt}),Object(z.jsx)(b.b,{render:function(){return Object(z.jsx)(b.a,{to:"/"})}})]})})})},cn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,296)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(z.jsx)(a.a.StrictMode,{children:Object(z.jsx)(sn,{})}),document.getElementById("root")),cn()}},[[219,1,2]]]);
//# sourceMappingURL=main.8d2f78f5.chunk.js.map