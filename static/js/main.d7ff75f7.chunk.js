(this["webpackJsonpchore-web-app"]=this["webpackJsonpchore-web-app"]||[]).push([[0],{145:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(13),s=n.n(r),i=(n(145),n(47)),o=n(12),l=n(4),u=n(15),j=n(20),b=n(210),d=n(211),p=n(212),m=n(174),h=n(213),O=n(228),f=n(113),x=n.n(f),g=n(114),v=n.n(g),y=n(115),w=n.n(y),k=n(55),S=n.n(k),C=n(116),A=n.n(C),T=n(207);var I=n(18),N=n.n(I),M=n(14),R=n(28),B=n(204),E=n(205),L=n(206),D=n(226),P=n(224),W=n(227);function F(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}var H="refreshToken",U={idToken:null,accessToken:null,exp:-1},z=U;function G(e,t){z={idToken:e,accessToken:t,exp:Math.min(F(e).exp,F(t).exp)}}function q(){return Math.ceil(Date.now()/1e3)+60>=z.exp&&(z=U),z}function _(e){localStorage.setItem(H,e)}function J(){return localStorage.getItem(H)}function K(){localStorage.removeItem(H),z=U}var Y,V="us-east-2:f1368add-2f4b-47fc-8b3c-8b65a1c909cb",X="us-east-2",Z="cognito-idp.us-east-2.amazonaws.com/us-east-2_ZiUGD7hem",Q="deg51c9v98amenr0il094snqc",$=new D.a({region:X});function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(R.a)(N.a.mark((function e(t,n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.send(new B.a({AuthFlow:"USER_PASSWORD_AUTH",ClientId:Q,AuthParameters:{USERNAME:t,PASSWORD:n}}));case 3:return a=e.sent,Y=new D.a({region:X,credentials:Object(P.a)({client:new W.a({region:X}),identityPoolId:V,logins:Object(M.a)({},Z,a.AuthenticationResult.IdToken)})}),G(a.AuthenticationResult.IdToken,a.AuthenticationResult.AccessToken),_(a.AuthenticationResult.RefreshToken),e.abrupt("return",{success:!0,message:"success",response:a});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ne(e,t,n){return ae.apply(this,arguments)}function ae(){return(ae=Object(R.a)(N.a.mark((function e(t,n,a){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.send(new E.a({ClientId:Q,Username:t,Password:n,UserAttributes:[{Name:"name",Value:a}],ClientMetadata:{secretKey:"H6xXPbB8YpGSMaq2rPoIt2LGbF8HYUGj"}}));case 3:return c=e.sent,e.abrupt("return",{success:!0,message:"success",response:c});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ce(){return re.apply(this,arguments)}function re(){return(re=Object(R.a)(N.a.mark((function e(){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y){e.next=17;break}return e.t0=D.a,e.t1=X,e.t2=P.a,e.t3=new W.a({region:X}),e.t4=V,e.t5=M.a,e.t6={},e.t7=Z,e.next=11,se();case 11:e.t8=e.sent.idToken,e.t9=(0,e.t5)(e.t6,e.t7,e.t8),e.t10={client:e.t3,identityPoolId:e.t4,logins:e.t9},e.t11=(0,e.t2)(e.t10),e.t12={region:e.t1,credentials:e.t11},Y=new e.t0(e.t12);case 17:if(t=J()){e.next=20;break}return e.abrupt("return",{success:!0,message:"no tokens to revoke"});case 20:return K(),e.prev=21,e.next=24,Y.send(new L.a({ClientId:Q,Token:t}));case 24:return n=e.sent,Y=null,e.abrupt("return",{success:!0,message:"logged out succesfully",response:n});case 29:return e.prev=29,e.t13=e.catch(21),e.abrupt("return",{success:!1,message:e.t13.message});case 32:case"end":return e.stop()}}),e,null,[[21,29]])})))).apply(this,arguments)}function se(){return ie.apply(this,arguments)}function ie(){return(ie=Object(R.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=q()).idToken||!t.accessToken){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,oe();case 5:if(!e.sent.success){e.next=8;break}return e.abrupt("return",q());case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return le.apply(this,arguments)}function le(){return(le=Object(R.a)(N.a.mark((function e(){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=J()){e.next=3;break}return e.abrupt("return",{success:!1,message:"no refresh token found."});case 3:return e.prev=3,e.next=6,$.send(new B.a({AuthFlow:"REFRESH_TOKEN_AUTH",ClientId:Q,AuthParameters:{REFRESH_TOKEN:t}}));case 6:return G((n=e.sent).AuthenticationResult.IdToken,n.AuthenticationResult.AccessToken),e.abrupt("return",{success:!0,message:"success"});case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",{success:!1,message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}var ue=n(3),je=Object(T.a)((function(e){return{title:{margin:e.spacing(1,0,1),textTransform:"none",textAlign:"left",color:"#333"},logoButton:{padding:e.spacing(0),textAlign:"left"},navButton:{color:"#333","&:hover":{backgroundColor:"#fff"}},navButtonSelected:{color:"#333",backgroundColor:"#fff","&:hover":{backgroundColor:"#fff"}},navButtonMobile:{color:"#fff",width:"100%"},navButtonMobileSelected:{backgroundColor:"#fff",color:"#000",width:"100%"},drawerDiv:{height:"100vh",backgroundColor:e.palette.primary.main}}})),be=[["Home","/",Object(ue.jsx)(x.a,{})],["About","/about",Object(ue.jsx)(v.a,{})]];function de(e){Object(u.g)();var t=je(),n=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){c(window.innerWidth)}),[]),Object(a.useEffect)((function(){function e(){c(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n<=600}();Object(a.useEffect)((function(){window.onscroll=function(){0===(document.body.scrollTop||document.documentElement.scrollTop)?l(0):l(4)}}));var r=Object(a.useState)(0),s=Object(o.a)(r,2),i=s[0],l=s[1];var f=Object(a.useState)(!1),x=Object(o.a)(f,2),g=x[0],v=x[1],y=Object(a.useState)(!1),k=Object(o.a)(y,2),C=k[0],T=k[1];function I(){T(!0)}function N(){T(!1)}return Object(ue.jsx)(b.a,{position:"fixed",elevation:i,children:Object(ue.jsxs)(d.a,{children:[Object(ue.jsx)("div",{children:Object(ue.jsx)(p.a,{component:j.b,to:"/",className:t.logoButton,children:Object(ue.jsx)(m.a,{variant:"h6",className:t.title,children:"Chore web app"})})}),Object(ue.jsx)("div",{style:{flexGrow:1}}),Object(ue.jsx)("div",{children:n?Object(ue.jsxs)(c.a.Fragment,{children:[Object(ue.jsx)(h.a,{className:t.navButton,onClick:function(){return v(!0)},children:Object(ue.jsx)(w.a,{})}),Object(ue.jsx)(O.a,{anchor:"left",open:g,onClose:function(){return v(!1)},children:Object(ue.jsxs)("div",{className:t.drawerDiv,children:[Object(ue.jsx)(p.a,{onClick:function(){return v(!1)},className:t.navButtonMobile,style:{height:"".concat(Math.floor(100/(be.length+2)),"%"),maxHeight:100},children:Object(ue.jsx)(S.a,{})}),be.map((function(n,a){return Object(ue.jsxs)(p.a,{component:j.b,to:n[1],onClick:function(){return v(!1)},className:e.selected===n[1]?t.navButtonMobileSelected:t.navButtonMobile,style:{height:"".concat(Math.floor(100/(be.length+2)),"%"),maxHeight:100},children:[n[2],Object(ue.jsx)("div",{style:{width:20}}),n[0]]},"navbar-mobile-navlink".concat(a))})),Object(ue.jsxs)(p.a,{component:j.b,to:"/logout",onClick:function(){return v(!1)},className:t.navButtonMobile,style:{height:"".concat(Math.floor(100/(be.length+2)),"%"),maxHeight:100},children:[Object(ue.jsx)(A.a,{}),Object(ue.jsx)("div",{style:{width:20}}),"Logout"]})]})})]}):be.map((function(n,a){return Object(ue.jsx)(p.a,{component:j.b,to:n[1],className:e.selected!==n[1]||C?t.navButton:t.navButtonSelected,onMouseEnter:I,onMouseLeave:N,children:n[0]},"navbar-navlink".concat(a))}))}),n||Object(ue.jsx)("div",{style:{flexGrow:1}}),n||Object(ue.jsx)("div",{children:Object(ue.jsx)(p.a,{variant:"contained",color:"secondary",className:t.navButton,component:j.b,to:"/logout",children:"Logout"})})]})})}var pe=n(214),me=n(215),he=["component","selected"];function Oe(e){var t=e.component,n=e.selected,c=Object(l.a)(e,he),r=Object(a.useState)(0),s=Object(o.a)(r,2),j=s[0],b=s[1];return 0===j&&se().then((function(e){b(e?1:-1)})).catch((function(e){console.log(e),b(-1)})),Object(ue.jsx)(u.b,Object(i.a)(Object(i.a)({},c),{},{render:function(e){return 0===j?Object(ue.jsx)(pe.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:Object(ue.jsx)(pe.a,{item:!0,xs:3,children:Object(ue.jsx)(me.a,{})})}):1===j?Object(ue.jsxs)("div",{children:[Object(ue.jsx)(de,{selected:n}),Object(ue.jsxs)("main",{children:[Object(ue.jsx)(d.a,{}),Object(ue.jsx)(t,Object(i.a)({},e))]})]}):Object(ue.jsx)(u.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var fe=["component"];function xe(e){var t=e.component,n=Object(l.a)(e,fe),c=Object(a.useState)(0),r=Object(o.a)(c,2),s=r[0],j=r[1];return 0===s&&se().then((function(e){j(e?1:-1)})).catch((function(e){console.log(e),j(-1)})),Object(ue.jsx)(u.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return 0===s?Object(ue.jsx)(pe.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:Object(ue.jsx)(pe.a,{item:!0,xs:3,children:Object(ue.jsx)(me.a,{})})}):-1===s?Object(ue.jsx)("div",{children:Object(ue.jsx)("main",{children:Object(ue.jsx)(t,Object(i.a)({},e))})}):Object(ue.jsx)(u.a,{to:{pathname:"/",state:{from:e.location}}})}}))}function ge(){return Object(ue.jsx)("div",{children:Object(ue.jsx)("h1",{children:"home"})})}function ve(){return Object(ue.jsx)("div",{children:Object(ue.jsx)("h1",{children:"about"})})}var ye=n(86),we=n(217),ke=n(223),Se=n(229),Ce=n(218),Ae=n(222),Te=n(216),Ie=n(219),Ne=n(220),Me=n(82),Re=n.n(Me),Be=n(81),Ee=n.n(Be);function Le(e){return Object(ue.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(ue.jsx)(Te.a,{color:"inherit",href:e.link||"https://madmobileapps.com",children:e.name||"MAD Mobile Apps"})," ",(new Date).getFullYear(),"."]})}var De=Object(T.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},title:{margin:e.spacing(0,0,2)},buttonProgress:{color:ye.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-8,marginLeft:-12}}}));function Pe(e){var t=Object(u.g)(),n=De(),c=Object(a.useState)(""),r=Object(o.a)(c,2),s=r[0],i=r[1],l=Object(a.useState)(""),b=Object(o.a)(l,2),d=b[0],O=b[1],f=Object(a.useState)(0),x=Object(o.a)(f,2),g=x[0],v=x[1],y=Object(a.useState)(""),w=Object(o.a)(y,2),k=w[0],C=w[1];function A(){return(A=Object(R.a)(N.a.mark((function e(n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),v(1),e.next=4,ee(s,d);case 4:a=e.sent,console.log(a),a.success?(v(2),t.push("/")):(v(3),C(a.message),setTimeout((function(){return v(0)}),5e3));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(ue.jsxs)(we.a,{component:"main",maxWidth:"xs",children:[Object(ue.jsx)(Ce.a,{}),Object(ue.jsxs)("div",{className:n.paper,children:[Object(ue.jsx)(m.a,{component:"h1",variant:"h4",className:n.title,children:"Chore App"}),Object(ue.jsx)(Se.a,{className:n.avatar,children:Object(ue.jsx)(Ee.a,{})}),Object(ue.jsx)(m.a,{component:"h1",variant:"h5",children:"Log In"}),Object(ue.jsxs)("form",{className:n.form,onSubmit:function(e){return A.apply(this,arguments)},children:[Object(ue.jsx)(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",type:"username",name:"username",autoComplete:"username",value:s,onInput:function(e){i(e.target.value)},autoFocus:!0}),Object(ue.jsx)(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:d,onInput:function(e){O(e.target.value)}}),Object(ue.jsx)(Ie.a,{in:k,children:Object(ue.jsx)(Ne.a,{style:{backgroundColor:"#e57373"},children:Object(ue.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:7},children:[Object(ue.jsx)(Re.a,{}),Object(ue.jsx)("div",{style:{marginLeft:10,marginRight:10},children:k}),Object(ue.jsx)("div",{style:{flexGrow:1}}),Object(ue.jsx)(h.a,{onClick:function(){return C("")},"aria-label":"close",size:"small",children:Object(ue.jsx)(S.a,{fontSize:"inherit"})})]})})}),Object(ue.jsx)("div",{className:n.wrapper,children:Object(ue.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:1===g||2===g,children:1===g?Object(ue.jsx)(me.a,{size:24}):"Login"})}),Object(ue.jsx)(pe.a,{container:!0,justify:"flex-end",children:Object(ue.jsx)(pe.a,{item:!0,children:Object(ue.jsx)(Te.a,{component:j.b,to:"/register",variant:"body2",children:"Don't have an account? Register"})})})]})]}),Object(ue.jsx)(ke.a,{mt:8,children:Object(ue.jsx)(Le,{name:"MAD Mobile Apps",link:"https://madmobileapps.com"})})]})}function We(){var e=Object(u.g)(),t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0],r=n[1];function s(){return i.apply(this,arguments)}function i(){return(i=Object(R.a)(N.a.mark((function t(){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(1),t.next=3,ce();case 3:n=t.sent,console.log(n),n.success?e.push("/login"):(r(3),console.log("error logging out"));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){s()}),[]),Object(ue.jsx)(pe.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:Object(ue.jsxs)(pe.a,{item:!0,xs:3,children:[0===c&&Object(ue.jsx)(p.a,{onClick:s,children:"Logout"}),1===c&&Object(ue.jsx)(me.a,{}),2===c&&"Logout successful.",3===c&&Object(ue.jsxs)("div",{children:["Logout failed.",Object(ue.jsx)("br",{}),Object(ue.jsx)(p.a,{onClick:s,children:"Try again"})]})]})})}var Fe=n(117),He=n.n(Fe),Ue=n(118),ze=n.n(Ue),Ge=Object(T.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},title:{margin:e.spacing(0,0,2)}}}));function qe(e){var t=Ge(),n=(Object(u.g)(),Object(a.useState)("")),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),b=l[0],d=l[1],O=Object(a.useState)(""),f=Object(o.a)(O,2),x=f[0],g=f[1],v=Object(a.useState)(0),y=Object(o.a)(v,2),w=y[0],k=y[1],C=Object(a.useState)(""),A=Object(o.a)(C,2),T=A[0],I=A[1];function M(){return(M=Object(R.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(1),e.next=4,ne(r,x,b);case 4:(n=e.sent).success?(k(2),I("Registered successfully!")):(k(3),I(n.message));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(ue.jsxs)(we.a,{component:"main",maxWidth:"xs",children:[Object(ue.jsx)(Ce.a,{}),Object(ue.jsxs)("div",{className:t.paper,children:[Object(ue.jsx)(m.a,{component:"h1",variant:"h4",className:t.title,children:"Chore App"}),Object(ue.jsx)(Se.a,{className:t.avatar,children:Object(ue.jsx)(Ee.a,{})}),Object(ue.jsx)(m.a,{component:"h1",variant:"h5",children:"Register"}),Object(ue.jsx)("div",{style:{height:10}}),Object(ue.jsxs)("form",{className:t.form,onSubmit:function(e){return M.apply(this,arguments)},children:[Object(ue.jsx)(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",type:"username",name:"username",autoComplete:"username",value:r,onInput:function(e){s(e.target.value)},autoFocus:!0,disabled:1===w||2===w}),Object(ue.jsx)(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",type:"name",name:"name",autoComplete:"name",value:b,onInput:function(e){d(e.target.value)},disabled:1===w||2===w}),Object(ue.jsx)(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:x,onInput:function(e){g(e.target.value)},disabled:1===w||2===w}),Object(ue.jsx)(Ie.a,{in:T,children:Object(ue.jsx)(Ne.a,{style:{backgroundColor:["","","#81c784","#e57373"][w]},children:Object(ue.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:7},children:[[null,Object(ue.jsx)(He.a,{}),Object(ue.jsx)(ze.a,{}),Object(ue.jsx)(Re.a,{})][w],Object(ue.jsx)("div",{style:{marginLeft:10,marginRight:10},children:T}),Object(ue.jsx)("div",{style:{flexGrow:1}}),Object(ue.jsx)(h.a,{onClick:function(){return I("")},"aria-label":"close",size:"small",children:Object(ue.jsx)(S.a,{fontSize:"inherit"})})]})})}),Object(ue.jsxs)("div",{className:t.wrapper,children:[Object(ue.jsx)(Ie.a,{in:2===w,children:Object(ue.jsx)(p.a,{fullWidth:!0,variant:"outlined",style:{backgroundColor:"#81c784",marginBottom:5},component:j.b,to:"/login",children:"Go to Log in"})}),Object(ue.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:1===w||2===w,children:1===w?Object(ue.jsx)(me.a,{size:24}):"Register"})]}),Object(ue.jsx)(pe.a,{container:!0,justify:"flex-end",children:Object(ue.jsx)(pe.a,{item:!0,children:Object(ue.jsx)(Te.a,{component:j.b,to:"/login",variant:"body2",children:"Already have an account? Log in"})})})]})]}),Object(ue.jsx)(ke.a,{mt:8,children:Object(ue.jsx)(Le,{name:"MAD Mobile Apps",link:"https://madmobileapps.com"})})]})}var _e=n(119),Je=n(221);var Ke=function(){var e=Object(_e.a)({palette:{primary:{main:"#ffa726"},secondary:{main:"#ce93d8"}}});return Object(ue.jsx)(Je.a,{theme:e,children:Object(ue.jsx)(j.a,{basename:"/",children:Object(ue.jsxs)(u.d,{children:[Object(ue.jsx)(Oe,{path:"/",exact:!0,component:ge,selected:"/"}),Object(ue.jsx)(Oe,{path:"/about",exact:!0,component:ve,selected:"/about"}),Object(ue.jsx)(Oe,{path:"/logout",exacct:!0,component:We}),Object(ue.jsx)(xe,{path:"/login",exact:!0,component:Pe}),Object(ue.jsx)(xe,{path:"/register",exact:!0,component:qe}),Object(ue.jsx)(u.b,{render:function(){return Object(ue.jsx)(u.a,{to:"/"})}})]})})})},Ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,231)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(ue.jsx)(c.a.StrictMode,{children:Object(ue.jsx)(Ke,{})}),document.getElementById("root")),Ye()}},[[172,1,2]]]);
//# sourceMappingURL=main.d7ff75f7.chunk.js.map